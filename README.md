## Измерение размера коробок с помощью монокамеры (веб-камеры)
Целью проекта было желание узнать, насколько точно можно предсказывать размер коробки, используя только обычную камеру, дающую 2D картинку, и комбинацию из двух моделей: YOLO для детекции объектов и DepthAnythingV2 Metric для предсказывания расстояния.
### Методология
1. Берём кадр с камеры
2. Ищем объекты с помощью YOLO
3. Если найдены коробки, то оцениваем глубину сцены с помощью DepthAnything
4. Рассчитываем реальные размеры bounding box на основе медианного растояния до точек внутри bounding box, фокального расстояния камеры и размеров сенсора камеры
### Расчёт размера
![photo_2026-02-10_02-30-29](https://github.com/user-attachments/assets/3b5b7ce6-204b-4b48-afce-83259d365916)

y - Размер объекта

d - Расстояние до объекта

h - Размер проекции объекта на сенсоре (рассчитывается с помощью размеров сенсора и размеров bounding box на картинке с сенсора)

a - Фокальное расстояние камеры

$y = (h * d) / a$
### Результаты
![2026-02-1002-48-49-ezgif com-video-to-gif-converter](https://github.com/user-attachments/assets/1146b803-efd1-4951-944b-421c1f05a9d1)

Удалось достигнуть погрешности в оценке размеров, не превышающей +-5см.
### Что можно улучшить
- Есть проблемы с детекцией коробок, стоит перебучить YOLO исключительно на коробки, либо обучить собственный детектор на один класс
- Попробовать 3D детекторы, дающие 3D bounding box, чтобы можно было оценивать конкретно размеры коробки, а не размеры bounding box
- Совместить функционал детекции и оценки глубины сцены в одной модели с кастомной архитектурой для повышения точности
